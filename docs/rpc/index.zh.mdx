---
title: Solana RPC Methods & Documentation
seoTitle: "Solana RPC Methods: HTTP & Websockets"
sidebarLabel: Solana RPC Methods
sidebarSortOrder: 0
hideTableOfContents: false
---

通过HTTP和Websocket方法直接使用JSON RPC API与Solana节点交互。

## 配置状态承诺

对于飞行前检查和事务处理，`Solana`节点根据客户端设置的承诺要求选择要查询的银行状态。
承诺描述了一个块在那个时间点上是如何完成的。在查询分类帐状态时，
建议使用较低级别的承诺来报告进度，而使用较高级别的承诺来确保状态不会回滚。

按照承诺的降序(最多完成到最少完成)，客户可以指定以下状态:

- `finalized(已完成)` - 节点将查询集群中绝大多数人确认的最近的块，因为该块已达到最大锁定，
这意味着集群已将该块识别为最终确定
- `confirmed(已确认)` - 节点将查询最近由集群的绝大多数投票的块。
  - 它包含了来自`gossip`和重播的投票。
  - 它不计算一个区块的后代的投票，只计算该区块的直接投票。
  - 确认级别支持1.3及以后版本中的“乐观确认”保证。
- `processed(处理过)` - 节点将查询其最近的块。请注意，该块仍然可能被集群跳过。

对于连续处理许多依赖事务，建议使用`confirmed(已确认)`的提交，这样可以平衡速度和回滚安全性。
为了完全安全起见，建议使用`finalized(已完成)`承诺。

### 默认的承诺

如果没有配置承诺，节点将默认为`finalized(已完成)`承诺

只有查询银行状态的方法才接受承诺参数。它们在下面的API参考中有说明。

## Rpc响应的结构

许多接受承诺参数的方法返回一个Rpc响应JSON对象，该对象由两部分组成:

- `context(上下文)` : 一个Rpc响应上下文JSON结构，包括一个插槽字段，在这个字段上计算操作。
- `value(值)` : 操作本身返回的值。

## 解析响应

一些方法支持`encoding`参数，如果请求`"encoding":"jsonParsed"`并且节点具有所属程序的解析器，
则可以以解析JSON格式返回帐户或指令数据。`Solana`节点目前支持以下原生和SPL语法的JSON解析:

| 程序                     | 账户状态    | 指令       |
| ----------------------  | -----------| -----------|
| 地址查找                 | v1.15.0    | v1.15.0    |
| BPF 加载程序             | 不适用      | 稳定        |
| BPF可升级的加载程序       | 稳定        | 稳定        |
| 配置                    | 稳定        |            |
| SPL 关联令牌帐户         | 不适用       | 稳定       |
| SPL 备忘录              | 不适用       | 稳定       |
| SPL 令牌                | 稳定        | 稳定       |
| SPL 令牌 2022           | 稳定        | 稳定       |
| 股份                    | 稳定        | 稳定       |
| 投票                    | 稳定        | 稳定       |

可以找到帐户解析器的列表
[点击链接](https://github.com/solana-labs/solana/blob/master/account-decoder/src/parse_account_data.rs),
指令解析器
[点击链接](https://github.com/solana-labs/solana/blob/master/transaction-status/src/parse_instruction.rs).

## 过滤条件

一些方法支持提供过滤器对象，以便对Rpc响应JSON对象中返回的数据进行预过滤。存在以下过滤器:

- `memcmp: object` - 将提供的一系列字节与特定偏移量处的程序帐户数据进行比较。字段:
  - `offset: usize` - 偏移入程序账户数据开始比较
  - `bytes: string` - 要匹配的数据，作为编码字符串
  - `encoding: string` -对过滤器字节数据进行编码，可以是"base58"或"base64"。
  数据的大小限制为128或更少的解码字节。
  **新: 此字段和base64支持通常仅在solana-core v1.14.0或更新版本中可用。在早期版本上查询节点时请省略**

- `dataSize: u64` - 比较程序帐户数据长度与提供的数据大小
